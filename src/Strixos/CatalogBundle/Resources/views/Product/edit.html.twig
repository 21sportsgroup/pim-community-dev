{% extends 'PimUIBundle::layout.html.twig' %}

{% block title %}StrixOS - Edit Product{% endblock %}

{% block content_menu_more %}
    {{ parent() }}
    <li>
        <a href="{{ path('strixos_catalog_product_index') }}" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-primary" role="button">
            <span class="ui-button-icon-primary ui-icon ui-icon-fugue-ui-button-navigation-back"></span><span class="ui-button-text">Back to list</span>
        </a>
    </li>
{% endblock %}

{% block content %}

    {% form_theme form 'StrixosWidgetBundle:Form:fields.html.twig' %}
    
    <form action="{{ path('strixos_catalog_product_save') }}" method="post" {{ form_enctype(form) }}>

        {{ form_errors(form) }}

        <div class="form-panel ui-corner-all">
            <h2>General</h2>
            {{ form_row(form.id) }}
            {{ form_row(form.sku) }}
        </div>

        <!-- set groups / attribute and value pairs -->
        <div class="ui-corner-all form-panel">

            <div id="tabs">
                <h2>Attributes</h2>
                <!-- one tab by group -->
                <ul>
                    {% for group in form.groups %}
                    <li><span class="ui-icon">Group tab</span><a href="#tabs-{{ group.id.vars.value }}">{{ group.code.vars.value }}</a></li>
                    {% endfor %}
                </ul>
                <!-- tabs content -->
                {% for group in form.groups %}
                <div id="tabs-{{ group.id.vars.value }}">
                    <ul>
                        {% for value in group.values %}
                            <li>{{ form_row(value.attribute) }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endfor %}
            </div>
        </div>

        {{ form_widget(form._token) }}

        <!--
        <input type="submit" value="Save" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" aria-disabled="false">
        -->
    </form>

<script>
$(function() {
    var $tabs = $( "#tabs" ).tabs();
});
</script>

{% endblock %}